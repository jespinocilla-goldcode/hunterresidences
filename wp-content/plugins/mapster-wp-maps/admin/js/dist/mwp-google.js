CategoryControl.prototype.setHiddenFeatures=function(e){this.dataLayers.forEach((o=>{o.forEach((t=>{t.getProperty("post_id");e.indexOf(t.getProperty("post_id"))>-1?o.overrideStyle(t,{visible:!1}):o.overrideStyle(t,{visible:null})}))}))};CategoryControl.prototype.changeMarker=function(e,o){"hide"===e?o.setVisible(!1):"show"===e&&o.setVisible(!0)};CategoryControl.prototype.adjustMarkerClusters=function(){(new MapsterHelpers).setClustering(this.map,this.map_provider,this.cluster_options,this.circle_clustering,this.label_icon_clustering,this.marker_clustering,this.markers,this.locations,this.lines,this.polygons)};ListControl.prototype.centerMap=function(e,o){this.map.setCenter({lat:e[1],lng:e[0]});this.map.setZoom(o)};ListControl.prototype.fitBounds=function(e,o){this.map.fitBounds({east:e[2],north:e[3],south:e[1],west:e[0]},o)};ListControl.prototype.openPopup=function(e,o){new MapsterHelpers;new google.maps.event.trigger(e,"click")};ListControl.prototype.getCenter=function(){return[this.map.getCenter().lng(),this.map.getCenter().lat()]};MapsterHelpers.prototype.addMapControl=function(e,o,t,r){let n={};n[o]=t;n[o+"Options"]={position:google.maps.ControlPosition[this.transformControlPositionToGoogle(r)]};e.setOptions(n)};MapsterHelpers.prototype.returnHoverLayerStyle=function(e,o,t){if(e.data.line)return{strokeWeight:parseFloat(o.getProperty("hover_effects_hover_width")),strokeColor:o.getProperty("hover_effects_hover_color"),strokeOpacity:parseFloat(o.getProperty("hover_effects_hover_opacity"))/100};if(e.data.polygon)return{fillColor:o.getProperty("hover_effects_hover_color"),fillOpacity:o.getProperty("hover_effects_opacity")/100,strokeWeight:1,strokeColor:o.getProperty("hover_effects_outline-color")};if(e.data.circle){const e=parseFloat(o.getProperty("circle_hover_effects_hover_radius")),t="0"!==o.getProperty("circle_hover_effects_hover_stroke-width")?parseFloat(o.getProperty("circle_hover_effects_hover_stroke-width")):0,r=e+t/2;return{icon:{path:`M-${r},0a${r},${r} 0 1,0 ${2*r},0a${r},${r} 0 1,0 -${2*r},0`,fillColor:o.getProperty("circle_hover_effects_hover_color"),fillOpacity:parseFloat(o.getProperty("circle_hover_effects_hover_opacity"))/100,anchor:new google.maps.Point(0,0),strokeWeight:t,strokeColor:""!==o.getProperty("circle_hover_effects_hover_stroke-color")&&o.getProperty("circle_hover_effects_hover_stroke-color"),strokeOpacity:parseFloat(o.getProperty("circle_hover_effects_hover_stroke-opacity"))/100,scale:1}}}};MapsterHelpers.prototype.setClustering=function(e,o,t,r,n,a,s,i,l,p,c){a&&this.doMarkerClustering(e,o,t,a,s,i,c)};MapsterHelpers.prototype.doMarkerClustering=function(e,o,t,r,n,a,s){this.makeClusters(e,n,t,s)};MapsterHelpers.prototype.makeClusters=function(e,o,t,r){const n={render:({count:e,position:o})=>{const r=new window.markerClusterer.ClusterStats(window.currentGoogleMapsCluster.markers,window.currentGoogleMapsCluster.clusters);let n=e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff";
const a=window.btoa(`\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n          <circle fill="${n}" cx="120" cy="120" opacity=".6" r="70" />\n          <circle fill="${n}" cx="120" cy="120" opacity=".3" r="90" />\n          <circle fill="${n}" cx="120" cy="120" opacity=".2" r="110" />\n          <circle fill="${n}" cx="120" cy="120" opacity=".1" r="130" />\n        </svg>`);return new google.maps.Marker({position:o,icon:{url:`data:image/svg+xml;base64,${a}`,scaledSize:e>0?new google.maps.Size(45,45):new google.maps.Size(0,0)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:e>0?"12px":"0px"},zIndex:1e3+e})}};if(window.currentGoogleMapsCluster){window.currentGoogleMapsCluster.reset();window.currentGoogleMapsCluster.clearMarkers();window.currentGoogleMapsCluster=new window.markerClusterer.MarkerClusterer({markers:o,map:e,renderer:n})}else window.currentGoogleMapsCluster=new window.markerClusterer.MarkerClusterer({markers:o,map:e,renderer:n})};MapsterHelpers.prototype.openPopup=function(e,o,t,r,n,a,s){const i=new MapsterHelpers;if(!a.enable&&!s){t&&t.close();return i.openPopupInner(e,r,n)}};MapsterHelpers.prototype.openPopupInner=function(e,o,t,r){if(o.data.popup_style){var n=new google.maps.InfoWindow({maxWidth:o.data.popup_style.max_width});n.setPosition(t);n.setContent(this.getPopupHTML(o.id,o.data));n.open(e);o.data.popup_style.close_button&&setTimeout((()=>{jQuery(`#mapster-popup-${o.data.popup_style.id}`).closest(".gm-style-iw").find("button.gm-ui-hover-effect").css("visibility","visible");jQuery(`#mapster-popup-${o.data.popup_style.id}`).closest(".gm-style-iw").find(".gm-style-iw-chr").css("display","block")}),50);o.data.popup_style.close_on_click&&google.maps.event.addListenerOnce(e,"click",(()=>{n.close()}));o.data.popup_style.close_on_map_move&&google.maps.event.addListenerOnce(e,"drag",(()=>{n.close()}));return n}};MapsterHelpers.prototype.transformControlPositionToGoogle=function(e){return"top-right"===e?"TOP_RIGHT":"top-left"===e?"TOP_LEFT":"bottom-right"===e?"RIGHT_BOTTOM":"bottom-left"===e?"LEFT_BOTTOM":void 0};MapsterHelpers.prototype.getAnchorLocation=function(e,o,t,r){let n=e*t,a=o*t;return"center"===r?new google.maps.Point(n/2,a/2):"left"===r?new google.maps.Point(0,a/2):"right"===r?new google.maps.Point(n,a/2):"top"===r?new google.maps.Point(n/2,0):"bottom"===r?new google.maps.Point(n/2,a):"top-left"===r?new google.maps.Point(0,0):"top-right"===r?new google.maps.Point(n,0):"bottom-left"===r?new google.maps.Point(0,a):"bottom-right"===r?new google.maps.Point(n,a):void 0};MapsterCore.prototype.set3DControl=function(){};MapsterCore.prototype.setDirectionsControl=function(){};MapsterCore.prototype.setFeaturesToMap=function(){};MapsterCore.prototype.setHeatmap=function(){};MapsterCore.prototype.setZoomControl=function({map:e,mapLibrary:o,controls:t,zoom_control:r}){(new MapsterHelpers).addMapControl(e,"zoomControl",r.enable,r.position)};MapsterCore.prototype.setStreetViewControl=function({map:e,mapLibrary:o,controls:t,street_view_control:r}){(new MapsterHelpers).addMapControl(e,"streetViewControl",r.enable,r.position)};MapsterCore.prototype.setMapTypeControl=function({map:e,mapLibrary:o,controls:t,map_type_control:r}){(new MapsterHelpers).addMapControl(e,"mapTypeControl",r.enable,r.position)};MapsterCore.prototype.setScaleControl=function({map:e,mapLibrary:o,controls:t,scale_control:r}){(new MapsterHelpers).addMapControl(e,"scaleControl",r.enable,r.position)};MapsterCore.prototype.setFullscreenControl=function({map:e,mapLibrary:o,controls:t,fullscreen_control:r}){(new MapsterHelpers).addMapControl(e,"fullscreenControl",r.enable,r.position)};MapsterCore.prototype.setGeolocationControl=function({map:e,mapLibrary:o,controls:t,geolocation_control:r}){const n=new MapsterHelpers;t.geolocationControl&&t.geolocationControl.remove();if(r.enable){const o=document.createElement("button");o.textContent=" ";o.classList.add("mapster-google-geolocation-button");e.controls[google.maps.ControlPosition[n.transformControlPositionToGoogle(r.position)]].push(o);o.addEventListener("click",(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition((o=>{e.setCenter({lat:o.coords.latitude,lng:o.coords.longitude})}),(()=>{}))}));return o}return!1};MapsterCore.prototype.setGeocoderControl=function({map:e,mapLibrary:o,controls:t,geocoder_control:r}){const n=new MapsterHelpers;t.geocoderControl&&t.geocoderControl.remove();if(r.enable){const o=document.createElement("input");o.classList.add("mapster-google-geocoder-input");o.placeholder=r.placeholder;let t={};r.limit_results&&(t.componentRestrictions={country:r.limit_results.split(",")});const a=new google.maps.places.Autocomplete(o,t);e.controls[google.maps.ControlPosition[n.transformControlPositionToGoogle(r.position)]].push(o);a.addListener("place_changed",(o=>{var t=a.getPlace();t.geometry&&e.fitBounds(t.geometry.viewport)}));return o}return!1};MapsterCore.prototype.setCustomSearchFilterControl=function({map:e,mapLibrary:o,controls:t,custom_search_filter:r,locations:n,lines:a,polygons:s}){const i=new MapsterHelpers;t.customSearchControl&&t.customSearchControl.remove();if(r.enable){const o=document.createElement("input");o.classList.add("mapster-google-geocoder-input");o.placeholder=r.placeholder;const t=r.include_geocoder?3:5;o.addEventListener("keyup",(e=>{let o=0;jQuery(".custom-search-filter-result").hide();jQuery(".custom-search-filter-result").each((function(){if(jQuery(this).text().toLowerCase().indexOf(e.target.value.toLowerCase())>-1&&o<t){o+=1;jQuery(this).show()}}))}));jQuery(document).on("mousedown",".custom-search-filter-result",(function(){const o=jQuery(this).data("feature_id"),t=n.concat(a.concat(s)).find((e=>parseInt(e.id)===parseInt(o)));var r=i.makeFeatureJSON(t.data);const l=turf.bbox(r);e.setOptions({maxZoom:10});e.fitBounds({east:l[2],north:l[3],south:l[1],west:l[0]});e.setOptions({maxZoom:void 0})}));let l={};r.include_geocoder&&""!==r.limit_results&&(l.componentRestrictions={country:r.limit_results.split(",")});const p=new google.maps.places.Autocomplete(o,l);e.controls[google.maps.ControlPosition[i.transformControlPositionToGoogle(r.position)]].push(o);p.addListener("place_changed",(o=>{var t=p.getPlace();t.geometry&&e.fitBounds(t.geometry.viewport)}));setTimeout((function(){n.concat(a.concat(s)).forEach((e=>{jQuery(".pac-container").append(`\n          <div class="pac-item custom-search-filter-result" data-feature_id="${e.id}">\n            <span class="pac-icon pac-icon-areas"></span>\n            <span class="pac-item-query">\n              <span class="pac-matched"></span>${e.title}\n            </span>\n            <span>custom place</span>\n          </div>`)}));r.include_geocoder||jQuery(".pac-container").addClass("mapster-no-geocoder")}),500);return o}return!1};MapsterCore.prototype.setFilterDropdownControl=function({map:e,mapLibrary:o,controls:t,filter_dropdown:r,locations:n,lines:a,polygons:s,markers:i}){const l=new MapsterHelpers;t.filterDropdownControl&&t.filterDropdownControl.remove();if(r.enable){const o=document.createElement("select");o.classList.add("mapster-google-filter-dropdown");const t=n.concat(a.concat(s));let i=`<option>${r.placeholder}</option>`;t.forEach((e=>{i+=`<option value="${e.id}">${e.title}</option>`}));o.innerHTML=i;e.controls[google.maps.ControlPosition[l.transformControlPositionToGoogle(r.position)]].push(o);jQuery(document).on("change",".mapster-google-filter-dropdown",(function(o){const t=o.target.value;if(t&&t!==r.placeholder){const o=n.concat(a.concat(s)).find((e=>parseInt(e.id)===parseInt(t)));var i=l.makeFeatureJSON(o.data);const r=turf.bbox(i);e.setOptions({maxZoom:10});e.fitBounds({east:r[2],north:r[3],south:r[1],west:r[0]});e.setOptions({maxZoom:void 0})}}));return o}return!1};MapsterCore.prototype.setCategoryFilterControl=function({map:e,mapLibrary:o,post_id:t,controls:r,cluster_options:n,category_filter:a,markers:s,dataLayers:i,locations:l,lines:p,polygons:c,map_provider:d,label_icon_clustering:u,circle_clustering:m,marker_clustering:_}){const f=new MapsterHelpers,g={post_id:t,functionality:a.functionality,independent_children:a.independent_children,initial_visibility:a.initial_visibility,category_display:a.category_display,checkbox_display:a.checkbox_display,pre_selected_categories:a.pre_selected_categories,additional_filters:a.additional_filters,cluster_options:n,markers:s,dataLayers:i,locations:l,lines:p,polygons:c,map_provider:d,circle_clustering:m,label_icon_clustering:u,marker_clustering:_};r.categoryFilterControl&&r.categoryFilterControl.remove();if(a.enable){const o=new CategoryControl(g).onAddGoogleMap(e);e.controls[google.maps.ControlPosition[f.transformControlPositionToGoogle(a.position)]].push(o);return o}return!1};MapsterCore.prototype.setListControl=function({map:e,mapLibrary:o,post_id:t,controls:r,list:n,locations:a,lines:s,polygons:i,markers:l}){const p=new MapsterHelpers;r.listControl&&r.listControl.remove();if(n.enable){const r={post_id:t,sort_by_distance:n.sort_by_distance,show_distance:n.show_distance,units:n.units,group_by_category:n.group_by_category,list_order:n.list_order,listing_type:n.listing_type,display_images:n.display_images,number_of_locations:n.number_of_locations,store_locator_options:n.store_locator_options,locations:a,lines:s,polygons:i,markers:l,mapLibrary:o},c=new ListControl(r).onAddGoogleMap(e);if(window.innerWidth<768){jQuery(e.__gm.developerProvidedDiv).parent().append(c);c.classList+=" google-maps-list-locator-mobile"}else e.controls[google.maps.ControlPosition[p.transformControlPositionToGoogle(n.position)]].insertAt(0,c);return c}return!1};MapsterCore.prototype.setDownloadControl=function({map:e,mapLibrary:o,controls:t,download_control:r,locations:n,lines:a,polygons:s}){
};MapsterCore.prototype.setMapType=function({map_type:e}){google.maps.event.addDomListenerSaved=google.maps.event.addDomListener;google.maps.event.addDomListener=function(e,o,t,r){const n=console.warn;console.warn=()=>{};google.maps.event.addDomListenerSaved(e,o,t,r);console.warn=n}};MapsterCore.prototype.setInteractivity=function({map:e,zoom_on_scroll:o,interactivity:t}){o||e.setOptions({scrollwheel:!1});t||e.setOptions({scrollwheel:!1,gestureHandling:"none"})};MapsterCore.prototype.setMap=function({post_id:e,mapLibrary:o,map:t,locations:r,lines:n,polygons:a}){var s="mapster-wp-maps-"+e;const i=new MapsterHelpers;jQuery(".mapster-wp-maps-loader-container").hide();const l=new google.maps.Map(document.getElementById(s),{center:"manual"===t.view.initial_load?{lat:parseFloat(t.view.manual_latitude),lng:parseFloat(t.view.manual_longitude)}:{lat:0,lng:0},zoom:"manual"===t.view.initial_load?parseFloat(t.view.manual_zoom):2,fullscreenControl:!1,zoomControl:!1,streetViewControl:!1,scaleControl:!1,panControl:!1,mapTypeControl:!1,styles:""===t.map_type.snazzy_map_style?[]:JSON.parse(t.map_type.snazzy_map_style)});if("fit-features"===t.view.initial_load&&(r.length>0||n.length>0||a.length>0)){const e=i.getMapBounds(r,n,a);l.fitBounds({east:e[2],north:e[3],south:e[1],west:e[0]})}return l};MapsterCore.prototype.setMapStyle=function({map:e,map_type:o}){new MapsterHelpers;o.snazzy_map_style&&""!==o.snazzy_map_style?e.setOptions({styles:JSON.parse(o.snazzy_map_style)}):e.setOptions({styles:[]})};MapsterCore.prototype.setMapResize=function({map:e}){google.maps.event.trigger(e,"resize")};MapsterCore.prototype.layerClick=function({map:e,interactivity:o,clickedEvent:t,locations:r,lines:n,polygons:a}){if(o){return r.concat(n.concat(a)).find((e=>e.id===t.feature.getProperty("post_id")))}return!1};MapsterCore.prototype.layerHover=function({map:e,interactivity:o,hoveredEvent:t,locations:r,lines:n,polygons:a}){if(o){return r.concat(n.concat(a)).find((e=>e.id===t.feature.getProperty("post_id")))}return!1};MapsterCore.prototype.popupClick=function({map:e,mapLibrary:o,clickedPopup:t,clickedFeature:r,clickedEvent:n,store_locator_options:a,open_popups_in_sidebar:s}){const i=new MapsterHelpers;if(r&&r.data.enable_popup&&("click"===r.data.interaction||i.isMobile()&&r.data.click_on_mobile))return i.openPopup(e,o,t,r,n.latLng,a,s)};MapsterCore.prototype.popupHover=function({map:e,mapLibrary:o,hoveredPopup:t,hoveredFeature:r,hoveredEvent:n,store_locator_options:a,open_popups_in_sidebar:s}){const i=new MapsterHelpers;if(r&&r.data.enable_popup&&"hover"===r.data.interaction&&(!i.isMobile()||i.isMobile()&&r.data.click_on_mobile))return i.openPopup(e,o,t,r,n.latLng,a,s)};MapsterCore.prototype.openMarkerClickPopup=function({map:e,mapLibrary:o,clickedMarker:t,clickedFeature:r,clickedPopup:n,store_locator_options:a,open_popups_in_sidebar:s}){const i=new MapsterHelpers;if(r&&r.data.enable_popup&&("click"===r.data.interaction||i.isMobile()&&r.data.click_on_mobile))return i.openPopup(e,o,n,r,{lat:r.data.location.coordinates[1],lng:r.data.location.coordinates[0]},a,s)};MapsterCore.prototype.removePopupHover=function({hoveredFeature:e,hoveredPopup:o}){o&&!e.data.keep_popup_open_on_hover?o.setMap(null):o&&e.data.keep_popup_open_on_hover&&jQuery(document).one("mousemove",(function(t){let r=jQuery(`.mapster-feature-popup-${e.id}`).closest(".mapboxgl-popup:hover");r.length?r.one("mouseleave",(function(){o.setMap(null)})):o.setMap(null)}))};MapsterCore.prototype.layerHoverEffect=function({map:e,interactivity:o,hoveredFeature:t,dataLayers:r}){const n=new MapsterHelpers;r.forEach((e=>{e.forEach((o=>{o.getProperty("post_id");if(t.id===o.getProperty("post_id")){let r=t.data.line?"line":t.data.symbol?"symbol":t.data.circle?"circle":t.data.polygon?"fill":[];("line"===r||"fill"===r?t.data:"circle"===r?t.data.circle:t.data.symbol).hover_effects.hover_enabled&&e.overrideStyle(o,n.returnHoverLayerStyle(t,o,!0))}}))}))};MapsterCore.prototype.openMarkerHoverPopup=function({map:e,mapLibrary:o,hoveredMarker:t,hoveredFeature:r,hoveredPopup:n,store_locator_options:a,open_popups_in_sidebar:s}){const i=new MapsterHelpers;if(r&&r.data.enable_popup&&"hover"===r.data.interaction&&r.data.popup_style)return i.openPopup(e,o,n,r,{lat:r.data.location.coordinates[1],lng:r.data.location.coordinates[0]},a,s)};MapsterCore.prototype.layerHoverEffectOff=function({map:e,interactivity:o,hoveredFeature:t,dataLayers:r}){new MapsterHelpers;t&&r.forEach((e=>{e.forEach((o=>{o.getProperty("post_id");if(t.id===o.getProperty("post_id")){let o=t.data.line?"line":t.data.symbol?"symbol":t.data.circle?"circle":t.data.polygon?"fill":[];("line"===o||"fill"===o?t.data:"circle"===o?t.data.circle:t.data.symbol).hover_effects.hover_enabled&&e.revertStyle()}}))}))};MapsterCore.prototype.markerHoverEffect=function({map:e,mapLibrary:o,interactivity:t,hoveredMarker:r}){
};MapsterCore.prototype.markerHoverEffectOff=function({tempHoverMarker:e,hoveredMarker:o}){
};MapsterCore.prototype.removeMarkerHoverPopup=function({hoveredMarker:e,hoveredFeature:o,hoveredPopup:t}){if(t){const r=new MapsterHelpers;o&&o.data.enable_popup&&"hover"===o.data.interaction&&(e&&!o.data.keep_popup_open_on_hover?t.close():e&&o.data.keep_popup_open_on_hover&&jQuery(document).on("mousemove.mapster",(function(e){let n=jQuery(`.mapster-feature-popup-${o.id}`).closest(".gm-style-iw");if(r.mouseIsNear(n,10,e))n.one("mouseleave",(function(){t.close();jQuery(document).off("mousemove.mapster")}));else{t.close();jQuery(document).off("mousemove.mapster")}})))}};MapsterCore.prototype.setDataLayers=function({map:e,map_provider:o,dataLayers:t,locations:r,lines:n,polygons:a}){const s=new MapsterHelpers;t&&t.forEach((e=>{e.setMap(null)}));let i=[];[["line","line"],["polygon","fill"],["location","circle"]].forEach((o=>{var t=s.createLayerGeoJSON(!1,o[0],o[1],r,n,a,[]);const l=new google.maps.Data({map:e});l.setStyle((e=>{if("line"===o[0]&&"line"===o[1])return{strokeWeight:e.getProperty("width"),strokeColor:e.getProperty("color"),strokeOpacity:e.getProperty("opacity")/100};if("polygon"===o[0]&&"fill"===o[1])return{fillColor:e.getProperty("color"),fillOpacity:e.getProperty("opacity")/100,strokeWeight:1,strokeColor:e.getProperty("outline-color")};if("location"===o[0]&&"circle"===o[1]){const o=parseFloat(e.getProperty("circle_radius")),t="0"!==e.getProperty("circle_stroke-width")?parseFloat(e.getProperty("circle_stroke-width")):0,r=o+t/2;return{icon:{path:`M-${r},0a${r},${r} 0 1,0 ${2*r},0a${r},${r} 0 1,0 -${2*r},0`,fillColor:e.getProperty("circle_color"),fillOpacity:e.getProperty("circle_opacity")/100,anchor:new google.maps.Point(0,0),strokeWeight:t,strokeColor:""!==e.getProperty("circle_stroke-color")&&e.getProperty("circle_stroke-color"),strokeOpacity:parseFloat(e.getProperty("circle_stroke-opacity"))/100,scale:1}}}}));l.addGeoJson(t);i.push(l)}));return i};MapsterCore.prototype.setMarkersToMap=function({map:e,markers:o,mapLibrary:t,locations:r}){const n=new MapsterHelpers,a=new MapsterConstants;let s=[];o.forEach((e=>{r.find((o=>o.id===e.id))?s.push(e):e.setMap(null)}));let i=[];i=i.concat(s);const l=r.filter((e=>"marker"===e.data.location_style||"label"===e.data.location_style));l.sort(((e,o)=>e.data.location.coordinates[1]>o.data.location.coordinates[1]?-1:1));l.forEach((async o=>{if(!s.find((e=>e.mapsterProperties.id===o.id))){let s={position:{lat:n.makeFeatureJSON(o.data).features[0].geometry.coordinates[1],lng:n.makeFeatureJSON(o.data).features[0].geometry.coordinates[0]},map:e,title:o.data.title,mapsterProperties:o,zIndex:10};if("marker"===o.data.location_style){let e=parseFloat(o.data.marker.scale)/100;(l=new google.maps.Marker(s)).setIcon({url:a.markerAsSVG(o.data.marker.color),scaledSize:new google.maps.Size(27*e,41*e),anchor:new google.maps.Point(27*e/2,41*e)});i.push(l)}if("label"===o.data.location_style){if(o.data.icon.icon_on){let e=parseFloat(o.data.icon.icon_properties["icon-size"])/100;if(o.data.icon.icon_properties["icon-image"]){const t=o.data.icon.icon_properties["icon-image"].height,r=o.data.icon.icon_properties["icon-image"].width;s.icon={url:o.data.icon.icon_properties["icon-image"].url,scaledSize:new google.maps.Size(r*e,t*e),anchor:n.getAnchorLocation(r,t,e,o.data.icon.icon_properties["icon-anchor"])};s.opacity=parseFloat(o.data.icon.icon_properties["icon-opacity"])/100}}s.labelContent="";if(o.data.label.label_on){s.labelContent=o.data.label.text_properties["text-field"];s.labelAnchor=new google.maps.Point(0,0);s.labelClass=`mapster-text-label-${o.id}`;var t=`\n            .mapster-text-label-${o.id} {\n              color : ${o.data.label.text_properties["text-color"]};\n              font-size: ${o.data.label.text_properties["text-size"]}px;\n              font-weight: 500;\n              opacity: ${o.data.label.text_properties["text-opacity"]/100};\n              font: ${o.data.label.text_properties["text-font"]};\n              transform: translateX(-50%) translateY(-50%);\n              margin-left: ${10*o.data.label.text_properties["text-translate-x"]}px;\n              margin-top: ${10*o.data.label.text_properties["text-translate-y"]}px;\n              text-shadow: 1px 1px 5px #fff, 1px 1px 5px #fff;\n              -webkit-text-stroke-width: ${.1*o.data.label.text_properties["text-halo-width"]}px;\n              -webkit-text-stroke-color: ${o.data.label.text_properties["text-halo-color"]};\n            }\n          `,r=document.createElement("style");r.innerText=t;document.head.appendChild(r)}var l=new window.markerWithLabel.MarkerWithLabel(s);i.push(l)}o.data.open_popup_on_load&&setTimeout((()=>{new google.maps.event.trigger(l,"click")}),100)}}));return i};MapsterMap.prototype.setLayerEvents=function(e,o){};MapsterMap.prototype.idleReload=function(e,o){};MapsterMap.prototype.init=function(){this.preInitMap().then((()=>{if(!this.isPublic){this.doCoreAndRunActions("set_accesstokendefault");this.doCoreAndRunActions("define_postResponse.locations");this.doCoreAndRunActions("define_postResponse.lines");this.doCoreAndRunActions("define_postResponse.polygons")}this.initMap();this.postLoad()}))};MapsterMap.prototype.setDataLayerEvents=function(e,o){if(e.dataLayers&&e.dataLayers.length>0){e.map;e.dataLayers.forEach((t=>{google.maps.event.addListener(t,"click",(t=>{e.clickedEvent=t;o.doCoreAndRunActions("define_clickedFeature");o.doCoreAndRunActions("set_storelocatorclick");o.doCoreAndRunActions("set_sidebarclick");o.doCoreAndRunActions("set_externallink");o.doCoreAndRunActions("define_clickedPopup")}));google.maps.event.addListener(t,"mouseover",(t=>{e.hoveredEvent=t;o.doCoreAndRunActions("define_hoveredFeature");o.doCoreAndRunActions("set_hoverEffects");o.doCoreAndRunActions("define_hoveredPopup")}));google.maps.event.addListener(t,"mouseout",(e=>{o.doCoreAndRunActions("set_hoverEffectsOff");o.doCoreAndRunActions("set_hoveredPopupOff")}))}))}};MapsterMap.prototype.setMarkerEvents=function(e,o){let t=!1;e.markers.forEach((r=>{google.maps.event.addListener(r,"click",(()=>{e.clickedMarker=r;o.doCoreAndRunActions("define_clickedFeature_fromMarker");o.doCoreAndRunActions("set_storelocatorclick");o.doCoreAndRunActions("set_sidebarclick");o.doCoreAndRunActions("set_externallink");o.doCoreAndRunActions("define_clickedPopup_fromMarker")}));google.maps.event.addListener(r,"mouseover",(()=>{if(!t){t=!0;e.hoveredMarker=r;o.doCoreAndRunActions("define_hoveredFeature_fromMarker");o.doCoreAndRunActions("define_tempHoverMarker");o.doCoreAndRunActions("define_hoveredPopup_fromMarker")}}));google.maps.event.addListener(r,"mouseout",(()=>{t=!1;o.doCoreAndRunActions("set_hoverEffectsOff_fromMarker");o.doCoreAndRunActions("set_hoveredPopupOff_fromMarker")}))}))};